[{"authors":["dryairship"],"categories":null,"content":"I am a second year undergraduate student at the Indian Institute Of Technology, Kanpur, majoring in Aerospace Engineering. My academic interests include cyber security and artificial intelligence. I am a skilled developer and have recently started taking an interest in SysAdmin stuff.\nFor recreation purposes I prefer mind sports like chess, competitive programming or puzzling. I am also an avid quizzer, a swimmer and a budding water-polo goalkeeper.\n","date":-62135596800,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":-62135596800,"objectID":"83d2e2fa5c499a312575bd89ef9beb7a","permalink":"https://dryairship.github.io/authors/dryairship/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/dryairship/","section":"author","summary":"I am a second year undergraduate student at the Indian Institute Of Technology, Kanpur, majoring in Aerospace Engineering. My academic interests include cyber security and artificial intelligence. I am a skilled developer and have recently started taking an interest in SysAdmin stuff.\nFor recreation purposes I prefer mind sports like chess, competitive programming or puzzling. I am also an avid quizzer, a swimmer and a budding water-polo goalkeeper.","tags":null,"title":"Priydarshi Singh","type":"author"},{"authors":["Priydarshi Singh"],"categories":[],"content":"Noob days We had the first computer in our house when I was 8. That was Windows XP. A few years later, my father installed Windows 2000 alongside XP (because he needed some software for his work which required Windows 2000). And so I got to know about dual boot. My friends didn\u0026rsquo;t believe me when I told them that you could run 2 OSes on one computer. :p\nWhen I was 15, I hacked my school\u0026rsquo;s website (no it wasn\u0026rsquo;t an SQL injection). That got me really interested in cyber security. Soon, I found that hackers use Kali Linux (*script kiddie sound intensifies*). So I downloaded the ISO and did a live boot. I didn\u0026rsquo;t understand much, but it seemed cool. Then I read more about linux. I found out that Kali is not for beginners, and that it is a \u0026ldquo;debian-based\u0026rdquo; distro. I misinterpreted that as \u0026ldquo;it would be easier to learn how to use debian\u0026rdquo;. So the next day I downloaded the debian ISO and did a Live Boot. I didn\u0026rsquo;t understand much, again. And TBH, it didn\u0026rsquo;t even seem \u0026ldquo;cool\u0026rdquo;. But still I wanted to install it.\nSo I followed some blog to dual boot Windows and Debian and started following it. I know you\u0026rsquo;re expecting this :p - I messed up some steps and ended up replacing Windows 7 with Debian. I also lost all my files :(.\nWhile I could have lived with using Debian instead of Windows, I definitely couldn\u0026rsquo;t have lived without my files. So I started looking for file recovery softwares. Since I was an absolute beginner at linux, I didn\u0026rsquo;t know how to install/run/use linux programs. Hence, I reinstalled Windows 7 and removed Debian. Finally, I ran a data recovery software and recovered most of my files.\nThat was quite an adventure. However, I didn\u0026rsquo;t stop, and before starting college I had tried Fedora and Mint.\nMore Noob days When I got my own laptop, I installed Ubuntu (because everyone else was doing that :P). On the 1TB hard disk, I made 4 partitions - 2 NTFS (for Windows 10) and 2 ext4 (for Ubuntu) (A few months later that changed to 1 NTFS and 3 ext4 :p ). Others were making a separate home partition for ubuntu, while I installed it entirely in one partition. A separate home partition didn\u0026rsquo;t make sense to me then. In Programming Club\u0026rsquo;s winter camp, I asked Yash why someone would need a separate home partition, and his answer was pretty much the same as this. At that time, I thought I\u0026rsquo;d never need it.\nMoving away from noob days In December 2019, while working at the C3i Lab, I realized I\u0026rsquo;d need Kali Linux. VirtualBox was giving me some strange errors and so I deemed it better to install it alongside Ubuntu and Windows. However, before installing, I recalled the thing about a separate home directory, and thought it would have been better had I known that before installing Ubuntu. :(\nThankfully, I found this page on Ubuntu Documentation which has detailed steps regarding shifting home directory to a different partition. This was exactly what I needed, and it helped me set up a separate home partition successfully. I then installed Kali, and voila - I had a triple boot laptop.\nEnd of noob days Shifting my home directory to a different partition, and succesfully installing Kali alongside Ubuntu and Windows - both in one day, got me pretty excited. Now I wasn\u0026rsquo;t scared of installing OSes. For my GSoC application, I was given a task related to reproducing an error on Debian Buster - and I installed it as the 4th OS on my computer. Installing OSes is more fun than it appears to be.\nNoob days are back One day, I was working on some python code and it required me to install a library. The python3 on my Ubuntu was python3.6, while the library required python3.7. So I installed python3.7. However, that led to new problems. So I wanted to remove python3.6. I couldn\u0026rsquo;t find any way to remove just python3.6, and leave python3.7 untouched. So I made an amazing plan - completely remove python3, and reinstall python3.7. Sounds like a good plan, right?\nAnd so I purged python3-dev and python3 (Yes I really did that). The next moment, it gave me a list of some 100+ packages to be removed. I was like, yeah cool whatever I\u0026rsquo;m just going to press enter. And so it started uninstalling. While it was at it, I searched about the repercussions on uninstalling python3-dev and python3. I found this, this, and this. Okay LoL. After the uninstall, I couldn\u0026rsquo;t start my terminal :(\nPSA: do this type of research before you uninstall something, not when the uninstall is running.\nAnd this is how I messed up my Ubuntu. The answers in the linked questions didn\u0026rsquo;t help me. Also, Ubuntu 20 had been released about 3-4 days ago, and it would have been an easy option to overwrite Ubuntu 18 with Ubuntu 20. But I also wanted to try out Arch. And Yash recommended me to use Arch. So I installed Arch by overwriting the Debian Buster installation.\nShooing away noob days, again When I used the same home directory for Kali and Ubuntu, starting the terminal in Kali game me warnings regarding some packages not being found. So I assumed that I\u0026rsquo;d get even more warnings if I try to share the same home with Arch. So instead of adding the home partition as an entry in fstab, I decided to create a new folder on the existing home partition, and create a symlink for it to be used as my home on Arch. Inside that folder, I have further symlinks for the folders that I\u0026rsquo;d want to share across partitions (like Desktop, Downloads, \u0026hellip;). This way, my files remain shared across partitions, but each partition gets its own config files, libraries, executables, etc. This is how my symlink solution looks like: The separate home partition is mounted at /mnt/home. It has a folder arch which I use as my home directory on my Arch system. /mnt/home/dryairship is the home directory that I used in Ubuntu 18.\nWill noob days be back? A week ago, I overwrote the Ubuntu 18 partition with Ubuntu 20 (I needed Ubuntu to check something related to my GSoC project). Ubuntu reminds me of noob days, so I\u0026rsquo;m sticking to Arch as my main system for now. I hope noob days don\u0026rsquo;t come back. :p\n","date":1590664238,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1590664238,"objectID":"8af4edf11b3e0b1308f370646a705bb7","permalink":"https://dryairship.github.io/post/switching-operating-systems-like-clothes/","publishdate":"2020-05-28T16:40:38+05:30","relpermalink":"/post/switching-operating-systems-like-clothes/","section":"post","summary":"From indavertently erasing Windows to having 4 OSes on my laptop","tags":["linux","operating systems"],"title":"Switching Operating Systems Like Clothes","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"IITKBucks I am mentoring a project titled IITKBucks, as a part of Programming Club\u0026rsquo;s Summer Camp 2020. In this project, we\u0026rsquo;ll explore blockchains and cryptocurrencies by building our own cryptocurrency.\nLast night, I gave the students an assignment - a very simplified mining problem. The task was to take a string input from the user and find an integer nonce value such that the SHA256 hash of the concatenation of the input and the nonce is less than a fixed target.\nI had been planning to start with functional programming since long, and with this assignment I had an opportunity.\nWhy aren\u0026rsquo;t Arch and Haskell friends? Sadly, we can\u0026rsquo;t just do ghc filename.hs to compile Haskell code on Arch. We need to mandatorily pass a -dynamic flag to GHC. I haven\u0026rsquo;t compiled Haskell code on other OSes, but from what I\u0026rsquo;ve read, I believe this is an Arch-only issue.\nAlso, due to this same reason, cabal install fails by default. Cabal is unable to build the libraries. So we need to update the Cabal config file. Thankfully, everything is very well documented in the ArchWiki, and I didn\u0026rsquo;t have to turn to other sources.\nBeginner\u0026rsquo;s notes There was nothing particularly despicable about Haskell (for comparison, read my blog post on Rust). Everything seemed logical. Or maybe it was the fact that since this entire paradigm of functional programming was new to me, I chose to explore and appreciate it like a maze, instead of nitpicking over minor inconveniences.\nIt took me some time to understand why functions with multiple parameters are declared the way they are, but the reason seemed to fit perfectly into the general ideology of the language.\nI absolutely loved the show function, perhaps because I\u0026rsquo;ve been irritated by the way other languages handle integer to string conversions :p. I also fell in love with the apply operator $, and would like to admit that I tried to overuse it. :p\nI was able to easily build two functions - getSHA256Hash to calculate the SHA256 hash of a string, and isValid to check if the hash is below the target. I now needed to iterate over the nonce values to try to find one that worked.\nRunning back to imperative languages The above task would be pretty simple in an imperative language. I needed something like the following:\nfor i := 1; i \u0026lt;= 10000000; i++ { if isValid(getSHA256Hash(input + to_string(i))) { print(i) break } } But apparently, Haskell doesn\u0026rsquo;t have loops. However, searching for \u0026ldquo;for loop in haskell\u0026rdquo; led me to the functions forM and forM_ of Control.Monad. And I ended up writing some code like this:\nforM_ [1..1000000] $ \\nonce -\u0026gt; do let hsh = getSHA256Hash $ input ++ show nonce if isValid hsh then putStrLn $ \u0026#34;Nonce = \u0026#34; ++ show nonce else return () This worked well. However, since there was no break statement, it wouldn\u0026rsquo;t stop after finding a valid nonce value, and would print as many valid values as it could find, in that range. So I started looking for a break equivalent in Haskell. Dum Dum. I could find nothing.\nEureka Instead, somewhere on StackOverflow or Reddit, I found a comment, which asked the OP to change their code to use a recursive function. And at that moment it struck me. It seemed as if everything was crystal clear. I quickly created a recursive function:\nfindNonce :: String -\u0026gt; Integer -\u0026gt; Integer findNonce input currentNonce | isValid hsh = currentNonce | otherwise = findNonce input (currentNonce+1) where hsh = getSHA256Hash $ input ++ show currentNonce Bonus 1 It uses guards !!!\nBonus 2 It compiled without an error, in the very first try. And it worked exactly as expected.\nThis was too much happiness for me to handle, so I took a tour of my entire house, at 4 in the morning. At that moment, it seemed to me as if these 5 lines were the most beautiful piece of code I\u0026rsquo;d ever written. :D\nConclusion No conclusion. It\u0026rsquo;s 10 in the morning, and it\u0026rsquo;s time for me to sleep. More FP blog posts coming up later, perhaps. :p\n","date":1588555637,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1588555637,"objectID":"6de0989edd273591f58fee252d543394","permalink":"https://dryairship.github.io/post/learn-me-a-haskell/","publishdate":"2020-05-04T06:57:17+05:30","relpermalink":"/post/learn-me-a-haskell/","section":"post","summary":"So I wrote my first Haskell program. And I love it!","tags":["haskell","functional-programming","programming-languages"],"title":"Learn Me a Haskell","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"Background TLE is an awesome discord bot for competitive programming. We at PClub, however, use Slack for our work. But I wanted to somehow use this bot on our Slack workspace. Searching for \u0026ldquo;Slack bot for competitve programming\u0026rdquo; didn\u0026rsquo;t give me any useful results. So I decided to create a port of this bot for Slack.\nGetting off on the wrong foot You must be aware of this amazing repository called build-your-own-x. From here, I got a link to this tutorial about building a Slack bot in python. This was good, since the original TLE bot was also in python, and this would make porting easy.\nI happily followed the steps, only to get a Failed RTM connect error. Some digging around revealed that the tutorial I followed was deprecated, and I needed to use the Slack Events API instead of RTM. Following the steps on the repo, I finally created a Slack bot that could meow back to you.\nTrying to copy the entire code at once :p Now I just needed to connect the event handlers for appropriate commands to the already existing functions in the Discord bot\u0026rsquo;s code. This was supposed to be easy. However, TLE bot\u0026rsquo;s code uses the discord library at a lot of places. I found some hacks around it (like creating a custom error class instead of using discord\u0026rsquo;s error class) and removed the files that I didn\u0026rsquo;t need.\nBut then there was another bummer. The code had lots (I mean LOTS) of circular dependencies. I don\u0026rsquo;t understand how the bot even works with those! Here\u0026rsquo;s an example: tle.util.codeforces_common imports tle.util.cache_system2, which in turn imports tle.util.codeforces_common.\nI tried to resolve a few of these by shifting functions across files, but there were just too many! So then I decided to use the files that could be used standalone, and copy the rest of the code one command at a time.\nSync vs Async And now comes the main problem. The original TLE bot\u0026rsquo;s code handles things asynchronously. I had never written async code in Python. Initially, I thought it would be similar to Javascript. But nope. It was more complex than I thought.\nAfter reading a few blogs and some StackOverflow answers, I somehow got it working.\nStep by Step First I implemented the fetch command - it would fetch the details of a Codeforces account and post them to the channel in the raw format. This worked pretty nicely.\nThen I implemented the rating command - it would draw the Codeforces rating graph of one or more users. I thought this worked pretty well too, but \u0026hellip;\nDid you see what happened there? It stopped responding. Instead, it raised an exception - RuntimeError: This event loop is already running. This was because of my poorly written async code.\nWhy is python asyncio so hard? 😭😭 And then it begain - I started trying everything I could.\n I tried sharing the same event loop for every event. Got some exception. I tried creating a new loop for every event. Got some exception. I tried using asyncio.Queue, but queue.get() would keep waiting forever (even when the queue has items in it!). I tried creating Tasks in the main event loop - the tasks would never get completed. I tried creating two loops: one for flask, and one for handling commands. Still the commands would go unanswered.  These are the things I remember. I\u0026rsquo;m pretty sure I tried many more.\nFinally I gave up. I need to properly learn how to write async code in python, with a smaller project perhaps - one in which I write all the code.\nRegarding the bot I\u0026rsquo;ve decided to shift to Go. I\u0026rsquo;ll probably try to use the discord bot\u0026rsquo;s code as a microservice. This is still just an idea, I haven\u0026rsquo;t started out on this. But I believe this should be easier than trying to fix python\u0026rsquo;s asyncio errors :p\n","date":1587823616,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1587823616,"objectID":"2a3f06d3fd01a2e6657650d0964b3c47","permalink":"https://dryairship.github.io/post/porting-tle-bot-to-slack-part-1/","publishdate":"2020-04-25T19:36:56+05:30","relpermalink":"/post/porting-tle-bot-to-slack-part-1/","section":"post","summary":"I can't deal with python's `asyncio`. :(","tags":["python"],"title":"Porting TLE Bot to Slack - Part 1","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"Background I am one of the new coordinators of the Programming Club, and I had been instructed by the outgoing coordinators to deploy a CTF.\nWhat I had to do For deploying any service we need to configure NGINX on two machines:\n The Students\u0026rsquo; Gymkhana VM : The actual service runs here. Configuring NGINX on this machine will make it available to anyone connected to the IITK network. The Reverse Proxy VM : This machine has a public facing IP. Configuring NGINX here will forward requests over the internet to our internal network.  What I did So I cloned CTFd, made some config changes, and used docker-compose to start the service. CTFd was up and working. Now I only needed to configure the Reverse Proxy VM to make it publicly accessible. However, I had not yet been granted access to the Reverse Proxy VM. So I sent a message to the outgoing coordinators requesting for access.\nThe movie starts here The next morning, at 5:32 AM IST, I received a message from Yash:\n Why is search.pclub.in down?\n\u0026hellip;\nI have a monitor up which says this went down 8:30 hours ago.\n Student Search is one of the most popular projects of PClub. And to think that it went down because I had been toying around on the VM was truly dreadful.\nSherlocking :D So I tried to do some forensics:\n I checked the docker containers. They were running. Good. I checked if the service was accessible through the internal network using the IP of the Gymkahna VM. It was. Great. I checked NGINX logs. They did not have anything fishy. In fact, new requests over the internet were not being logged. Sad.  Therefore, I concluded that everything was working upto the Gymkhana VM and that the Reverse Proxy VM was to blame. And since I didn\u0026rsquo;t even have access to that VM, it couldn\u0026rsquo;t have been my fault. I breathed a sigh of relief.\nLater, Yugesh revealed that he could not ssh into the Reverse Proxy VM. This further substantiated the belief that the machine was down.\nDaedalian mysteries lie ahead So I mailed CC authorities regarding the issue. The mail was forwarded through 4 nodes and finally the reply that I received was that the machine was working from inside IITK. Okay.\nThen I tried pinging the the Reverse Proxy VM after connecting to IITK proxy. It worked. Great.\nThen I sshed into the Gymkhana VM and tried to ping the Reverse Proxy VM. It said Destination Host Unreachable. Wait what?\nNow this was going over my head (I\u0026rsquo;m just a noob SysAdmin :\u0026lsquo;◖ ). The fact that I was able to ping the Reverse Proxy VM meant that the VM was alive. So I just decided to wait until Yugesh somehow found a way to let me inside that VM.\nAnd it happened 2 weeks later, Yugesh found a machine that could ssh into the Reverse Proxy server, and created a user for me on the VM. Now the first task at hand for me was to get Student Search up again.\nForensics once more  First Step: Checking NGINX logs. The error log file was filled with upstream timed out (110: Connection timed out) errors. Sad. Second Step: Restarting NGINX. I know it doesn\u0026rsquo;t make sense, but sometimes restarting things solves all the problems. :p It didn\u0026rsquo;t work this time though. :( Third step: pinging the gymkhana VM. No response. 100% packet loss.  So now I realized that both the Gymkhana and the Reverse Proxy VMs were up and working properly. I could ssh into both of them. But they couldn\u0026rsquo;t ping each other. This didn\u0026rsquo;t make sense. And so I asked Yash.\nInsights from Samrat Yash, as always, had an answer. He recalled facing this issue, and quickly explained it - a new docker network had been created which took up the IP range of the reverse proxy server.\nSo then I checked docker networks. There was a network with the name ctfd_default, whose subnet contained the IP address of the Reverse Proxy VM. This network was automatically created when I started the CTFd docker container using docker-compose.\nSo whenever the Reverse Proxy VM would make a request to the Gymkhana VM, it would respond back correctly. But now since the IP of the Reverse Proxy VM was contained in the docker network subnet, the response would go to the docker network, and would never actually reach the Reverse Proxy VM. The Reverse Proxy VM would keep waiting, and hence the timeout.\nResolving the issue The issue was resolved by deleting the offending network. I just did docker network rm ctfd_default, and everything fell back into place.\nThere was another problem here though. In the future, any new docker network would take that same subnet by default, unless specified otherwise. And specifiying a different subnet in the docker-compose file for all the projects is a tedious task.\nTo fix this, once and for all, I added a field default-address-pools in the /etc/docker/daemon.json file. Adding this field caused the docker service to crash, because this field requires docker version \u0026gt;=18.09.1, while the Gymkhana VM had 17.09.0. :( Updating docker-ce fixed everything.\nResults Student search is up and working. The CTF server is also up and working at https://ctf.pclub.in. I also learnt how to generate SSL certificates using certbot. And now perhaps I know a little more about docker networks :p.\nAlso, Yash had \u0026ldquo;intended to write a nice blog post\u0026rdquo; about this \u0026ldquo;very unique to docker + internal networks issue debugging insight\u0026rdquo; that he had, but I stole his idea (with permission). I hope he doesn\u0026rsquo;t mind. XD\n","date":1586461702,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586461702,"objectID":"520cfc5c2e79bddd16f3016614727490","permalink":"https://dryairship.github.io/post/when-i-messed-up-the-gymkhana-server/","publishdate":"2020-04-10T01:18:22+05:30","relpermalink":"/post/when-i-messed-up-the-gymkhana-server/","section":"post","summary":"And how I fixed it 391 hours later.","tags":["story","sysadmin","pclub"],"title":"When I Messed Up the Gymkhana Server","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"Rust has been declared as the most loved programming language consecutively for the past four years in the StackOverflow Developer Survey. I myself marked Rust as one of the languages I\u0026rsquo;d like to work with in the future, in the 2020 Survey. And due to the COVID-19 vacations, I finally got the time to try it out.\nSo I installed Rust and read a few pages of Rust by Example. Then I came across this problem about a game of coins with the Devil, and decided to implement the game as my first project in Rust.\nI believe in learning languages the hard way. I learnt Java by experimenting. I used to copy code that I didn\u0026rsquo;t understand, then modified small parts, observed the changes, and repeated this until I understood the entire code. And I learnt python and C++ by by using them to re-write the same programs that I wrote in Java. This also taught me how to use Google properly. I learnt Go by deciding that I\u0026rsquo;d use it to build my best self project yet (an online election system), when I hardly knew how to write Hello World in it; and I learnt it not by following some guide, but by searching for \u0026ldquo;how to do X in Go\u0026rdquo;.\nSo why should Rust be an exception? I created a new cargo project and started modifying it. I really liked that creating a new project is as simple as doing cargo new project-name.\nThe first thing that I had to do was to take an integer as an input. I was awfully disappointed that there is no direct way to take an integer input: we first have to input a string and then parse it into an integer.\nJava, at one point, used to be my favourite language. And Java libraries use the camelCase/PascalCase for all naming purposes (except for CONSTANTS). Now Go is my favourite language. And Go too uses a similar convention. Therefore, all my life, I\u0026rsquo;ve preferred using the camelCase. And now I\u0026rsquo;m writing code in a language that gives me a warning, asking me to convert camelCase variable names to snake_case. First turn-off. :p\nWhen the input part was ready, I ran it using cargo run. It seemed to take infinity to compile - when I realized that it was in fact waiting for the input. However, I had print!ed a string before asking for the input, which was not displayed. Flushing problem, I recognized. Changing print! to println! did the work, but I still wanted the input to be taken on the same line as the prompt. So I had to add another statement to flush - a rather scary looking statement that required a new Trait to be imported. I didn\u0026rsquo;t really like having to manually flush after print!ing, but there has been a huge discussion over this and the community believes this is the way it should be. :(\nFor the next step, I had to create an array of the size that I had just inputted. The error messages told me that I could not use a variable for the size of the array - it had to be a constant. LoL what? I then found that the way to do it is by using a vector. Fair enough. Then I realized that an i32 value could not be used as an array/vector index; it had to be a usize. Reasonable, since array indices should be positive. However, I believe an automatic type conversion should have been implemented (again, the subject of a huge discussion).\nI then had to randomly initialize the vector. Turns out, I have to add an external crate as a dependency to generate random numbers. Seriously? In my opinion, random number generation is something as fundamental as I/O and should have been present in the standard library of Rust.\nAt this point, I had a randomly initialized array. I now needed to update it using inputs from the user. I was about to face the most dreaded error any Rust beginner could face : error[E0382]: use of moved value. The concept of this error doesn\u0026rsquo;t even exist in other languages. So I modified the vector in an iteration of the while loop and now I can\u0026rsquo;t use the vector in the while condition? LMAO why? It took me an entire day to figure it out, and I have probably not yet properly understood it. I somehow managed to solve it, but I still don\u0026rsquo;t know if the way I did it is the way it was supposed to be done. I\u0026rsquo;ll need to understand the idea of ownership before I pick up any other project in Rust.\nSo that was it - an utterly disappointing experience. I once overheard yashsriv saying that anyone denigrating Rust online would be hurled abuses at. So perhaps I should brace for that. The program is available on GitHub at dryairship/coins-and-the-devil. Do point out any mistakes by creating a GitHub issue or in the comments here.\n","date":1585349830,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1585349830,"objectID":"1e51b673545a956ee033dfee2e98871a","permalink":"https://dryairship.github.io/post/my-first-rust-program/","publishdate":"2020-03-28T04:27:10+05:30","relpermalink":"/post/my-first-rust-program/","section":"post","summary":"I've had a Rust sticker on my laptop for over a year now. I thought perhaps I should finally learn the langauge.","tags":["rust"],"title":"My First Rust Program","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"I was in a discussion with my friend Avinandan Bose once. He had just returned from the mid-semester examination of an MTH course. The subject of our concern was the format of the examination - a rather unusual one for such a consequential test. The test had 5 True/False questions, with a +3 for a correct answer, a -2 for an incorrect answer, and a 0 for an unattempted question.\nThe curious marking scheme of this exam made one thing intuitively clear to both of us - if you don\u0026rsquo;t know the answer, making a guess should be better than not attempting the question. And so Bose exclaimed, \u0026ldquo;LMAO some students left the entire paper blank. They could have marked all the answers \u0026lsquo;True\u0026rsquo; and still have a fair chance of a positive score!\u0026quot;\n\u0026ldquo;But why all \u0026lsquo;True\u0026rsquo;? You could just mark all the answers according to your intuition and that should effectively be at least as good as random guessing\u0026rdquo;, I argued. Bose then asserted that random guessing may get you all your answers wrong, and the \u0026ldquo;all True / all False\u0026rdquo; method should be preferred. While Bose may have stated that impetuously, it did get both of us thinking.My roommate Daljit gatecrashed the discussion and sided with Bose. However, after fiddling with pen and paper for some time, Bose yielded that \u0026ldquo;mathematically both the methods appear to have the same effect\u0026rdquo;. Obviously, the probability of getting all 5 answers incorrect in both the cases remains \\( (0.5)^5 \\).\nNow consider this: If you had to answer all the questions in a set of 5 True/False type questions, there are 32 possible ways you could do this. While calculating our probability of \\( (0.5)^5 = 3.125%\\), we have assumed that all of these ways are equally likely to be the answer set that has all incorrect answers. Instinctively, this seems unrealistic.\nIf I were to set a question paper, I would try to maintain a balance between the number of True statements and the number of False statements. This idea is easier to visualize when there are more number of questions and more alternatives. Consider the JEE Main question paper : 90 questions, one correct option out of 4 alternatives (a), (b), (c) and (d). There is absolutely no way (realistically) that the answer to all the questions be (a). In fact, it is expected that the number of questions with (a) as the correct answer would be roughly a quarter of the total number of questions.\nSo when it comes to 5 True/False questions, it is not expected that all the answers be the same. And hence, marking all True / all False should have a better chance at not getting all the answers wrong, than randomly marking the answers. This needs a better mathematical analysis, but Bose got AIR 104 in JEE Advanced and so his advice regarding examinations should not be taken lightly.\nNevertheless, the marking scheme of the examination was such that would promote guessing. And this can be proven with some quick mathematics. Consider any examination where you have to select one out of \\(N\\) options. You get \\(x\\) points when you correctly answer a question, \\(-y\\) points when you incorrectly answer a question, and zero for not attempting the the question. Thus, if you randonly guess an answer, the probabilty that you get it correct is \\(\\frac{1}{N}\\). If you\u0026rsquo;re making a random guess for \\(Q\\) questions, then the total expected score due guessing would be : $$ \\begin{array}{r l} \u0026amp; Q[\\frac{1}{N}x + (1-\\frac{1}{N})(-y)] \\\\\\\\\n= \u0026amp; \\frac{Q}{N}[x - (N-1)y] \\end{array} $$ For an examination where random guessing should not make any difference, the expected score due to guessing should be equal to zero. With this condition, we can solve for \\(y\\).\n$$ \\begin{array}{r c l} \\frac{Q}{N}[x - (N-1)y] \u0026amp; = \u0026amp; 0 \\\\\\\\\nx - (N-1)y \u0026amp; = \u0026amp; 0 \\\\\\\\\n\\frac{x}{N-1} \u0026amp; = \u0026amp; y \\end{array} $$ Therefore, in an ideal 1-out-of-N examination, the penalty for an incorrect answer should be \\(-\\frac{x}{N-1}\\).\nTo compare, Bose\u0026rsquo;s examination had a penatly of -2 instead of the ideal -3 (\\(x=3, N=2\\)), which implies that random guessing could leave one better off. JEE Main has a penalty of -1, but ideally it should have a penalty of -\\(\\frac{4}{3}\\) (\\(x=4, N=4\\)). This is why I have always promoted guessing in JEE Main. I myself did that, and got a +7 in my score due to it.\nI\u0026rsquo;ve always been a proponent of guessing, wherever the situation promotes it. And this comes in handy during quizzes. Almost all the time, you don\u0026rsquo;t know the exact answer for a question. It is all about working over the hints that the quizmaster subtly drops and making an educated guess.\nI remember when we went to participate in the Farida Abraham Memorial National Quiz in the La Martiniere Girls\u0026rsquo; College, I didn\u0026rsquo;t know the answer to any of the questions in the preliminary round. We still qualified for the finals just by making educated guesses. Ask any quizzer and they would recall a similar story.\nGuesswork lies at the heart of quizzing. And it is the job of a good quizmaster to drop enough hints, and smart hints, such that the teams try to guess reasonable answers. Even if the answer is incorrect, a \u0026ldquo;good guess\u0026rdquo; from the quizmaster is a satisfactory consolation prize.\nOh, and we have made such progress on guessing that we have an entirely new field where computers are trained to guess \u0026ldquo;values\u0026rdquo;. Yes I\u0026rsquo;m talking about Machine Learning. This reminds me that I have to brush up my ML. Goodbye!\n","date":1585186183,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1585186183,"objectID":"43bb26af3ecb49c709cf44cb5be1f7e1","permalink":"https://dryairship.github.io/post/your-guess-might-not-be-as-good-as-mine/","publishdate":"2020-03-26T06:59:43+05:30","relpermalink":"/post/your-guess-might-not-be-as-good-as-mine/","section":"post","summary":"A brief analysis of hazarding a guess.","tags":["story","quizzing","examinations"],"title":"Your Guess Might Not Be as Good as Mine!","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"The MACHINIST (dataset) In November 2018, I was reading about neural networks, and the first hands-on example that the website had was to build a neural network to recognize handwritten numbers using the MNIST dataset.\nOne month later, we had a lecture series on \u0026ldquo;Introduction to Machine Learning\u0026rdquo; in the winter camp of Programming Club, IITK. The MNIST dataset was again used to teach Neural Networks.\nNow, the book that I\u0026rsquo;m following also has a section called \u0026ldquo;Hands-on Experience\u0026rdquo; in the very first chapter, which uses the MNIST dataset for handwritten character recognition.\nDoing the same thing, again and again. The first time, it felt like magic. I didn\u0026rsquo;t know what we were doing. I didn\u0026rsquo;t know why we were doing that. But it made my laptop start its fan, and apparently, the tests showed that the network had trained well.\nThe second time, I was still clueless. Though a little bit less clueless. I understood how the chosen error function translated to the update equations for the weights and biases. I knew what gradient descent was doing. I understood most of the \u0026lsquo;what\u0026lsquo;s and \u0026lsquo;how\u0026lsquo;s, but the \u0026lsquo;why\u0026rsquo; questions remained unanswered.\nThe third time, I got overconfident. I now (somewhat) understood the implications of the choice of the error function. I also (somewhat) understood why the network was pyramidal in shape. I understood the benefits of one-hot encoding over label encoding. Overall, it felt like I knew what I was doing and why I was doing that. So now it was time for my own theories.\nNetwork Structure The network had 3 layers - the input layer, one hidden layer, and the output layer.\nThe images in the MNIST dataset are of size 28 x 28. Thus the input layer was of size 784. The hidden layer was chosen to be of size 100. And since we were using one-hot encoding, our output layer was of size 10.\nAs such, there were supposed to be two pairs of weights and biases - one for the transition from the input layer to the hidden layer, and one for the transition from the hidden layer to the output layer. So the first set of weights was a matrix of size 784x100, and the second was a matrix of size 100x10. The biases were simply arrays of sizes 100 and 10.\nWorking Here is how the network decides the digit that a given image corresponds to : After training, we have calculated the two pairs of weights and biases. We are given an image of size 28x28. This image corresponds to an array of 784 integers between 0 and 255. We take the product of this array (1 x 784) with the first weight matrix (784 x 100) to get an array of size 1 x 100. We add the values of the first bias array to this to get the intermediate answer array. We then take the product of the intermediate answer array (1 x 100) and the second weight matrix (100 x 10) to get an array of size 1 x 10. Adding the second set of biases to this, we get the final answer array. Passing the values of this array to the softmax function, we obtain a score between 0 and 1 for each digit. We then say that the given image corresponds to the digit with the highest score.\nThe above could be restated in English as follows : Through the training process, we have obtained a set of 100 patterns (first weight matrix), and we know that a particular digit has some subset of these patterns (second weight matrix). When we are given an image, in the first step, we calculate to what extent this image contains each of our 100 patterns. We then find the digit which has these patterns to a similar extent as the given image.\nFor example, suppose we are given an image in which has one horizontal line in the upper part of the image and one vertical line in the right portion. We realize that these patterns most closely correspond to the digit 7 and declare that this image has 7 written in it.\nThe Experiment While the mathematical description of the model is explicit regarding the rules that determine the digit corresponding to an image, the English version has a rather mystical element to it, and this makes the latter more intriguing. As an attempt to demystify it, I tried to visualize the patterns.\nThe patterns are represented by the first weight matrix, which is of size 784 x 100. We could consider this matrix as 100 arrays of size 784 - with each array representing a pattern (a 28x28 image). I wrote a simple python program to convert an array of size 784 to a 28x28 image:\nEpic Fail This is what I expected the patterns to look like:         Expected Patterns (shown 6 out of \u0026lt;indeterminate\u0026gt;)   A curve in the top right corner is a feature of the digits 2, 3, 8, 9 and 0. A horizontal line in the upper part is a feature of the digit 7. A curve in the bottom left corner is a feature of the digits 5, 6, 8 and 0. A vertical line is a feature of the digits 1, 4 and 7. I anticipated that the patterns obtained from the weight matrix would look somewhat like these, but was utterly disappointed.    This is what the patterns actually looked like:         Actual Patterns (shown 6 out of 100)   Noise! That\u0026rsquo;s noise! Those images do not seem to have any pattern at all! But believe it or not, this is how it works.    Analysis The result of the experiment was completely contrary to what I was hoping for. However, a sober reconsideration of the idea of the experiment would drop hints that the experiment was destined to fail :\n I had completely disregarded the importance of the bias array and the entire experiment was based solely on the first weight matrix. I had fallen prey to the fallacy that a computer would think exactly the way humans do.  And so with a failed experiment, I decided that I was done with ML for the day, or maybe for a few days.\n","date":1576371468,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1576371468,"objectID":"13b58507a500f28021894fb76db7e0a3","permalink":"https://dryairship.github.io/post/learning-machine-learning-story-n-1/","publishdate":"2019-12-15T06:27:48+05:30","relpermalink":"/post/learning-machine-learning-story-n-1/","section":"post","summary":"Visualizing patterns in the MNIST dataset","tags":["machine-learning","ml-stories","story"],"title":"Learning Machine Learning : Story #N+1","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"This post is a collection of the answers to the most frequent questions I am asked about my username.\nWhat does dryairship mean? It literally means dryairship. You could always break it down as dry-airship or dry-air-ship as per your own will, and then iterate over the various meanings of the words dry, air and ship to let it mean whatever pleases you. I, however, like to visualize it as a cute non-moist airship floating in the sky.\nThe only other allusion that dryairship incorporates, is that it happens to be an anagram of my legal first name Priydarshi.\nHow did I think of dryairship? td;dr : I didn\u0026rsquo;t. I wrote a program to find it.\nJust before coming to IITK, I realized I needed a nice username for all my online accounts. Also somewhat around that time, I had finished the entire Harry Potter movie series. I was particularly impressed by the scene in which \u0026ldquo;Tom Marvolo Riddle\u0026rdquo; was permutated to \u0026ldquo;I am Lord Voldemort\u0026rdquo;. Further, I read about how this scene was performed in other languages and also found a reddit post that has other anagrams for Tom Marvolo Riddle. And then it was decided - I needed a username that was an anagram of my name.\nHence, I wrote a simple Java program to find meaningful anagrams of my name. From the output of this program, I zeroed in on dryairship.\nOf all the 907200 permutations, why dryairship? Because dryairship is better than hairy drips or his dry pair or air dry hips or any other anagram. I did linger over sir hardy pi and sir pi hydra for a few minutes but then decided against using the title sir in my username.\nIs dryairship related to Aerospace Engineering? Not intentionally. Though the fact that I was about to join IITK to study Aerospace Engineering could have been an implicit factor in making me choose dryairship over other alternatives.\nWhat would happen if the airship becomes wet? I\u0026rsquo;ve only completed one course of Aerospace Engineering as of writing of this post and find myself incapable of describing what effects the wetness of the surface of the airship would have on the flight. The answer to this question would be updated as soon as I do a course which teaches me that.\nMore questions, as their frequency increases, would be added here.\n","date":1575318184,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575318184,"objectID":"c75e00e350918f55f82ecec7e80cfee7","permalink":"https://dryairship.github.io/post/dryairship-origins/","publishdate":"2019-12-03T01:53:04+05:30","relpermalink":"/post/dryairship-origins/","section":"post","summary":"An attempt at answering the questions people often ask me regarding my username.","tags":["dryairship"],"title":"dryairship : Origins","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"This series is based on my attempts at exploring machine learning, and the final results of those attempts. It starts straightaway with part N because I do not remember how many times I have tried to do this before, only to leave it for the future. Just as a side note, I\u0026rsquo;m not completely illiterate at ML. However, my proficiency, as of writing this post, is limited to linear regression, which some of my friends do sometimes regard as complete illiteracy.\nSo the endsems are over and my unremitting self is again motivated to proclaim \u0026ldquo;I\u0026rsquo;ll learn ML in these vacations\u0026rdquo;. Having tried my hands at all sorts of online resources, this time I decide to use a physical book as my guide. So I go to the library and pick up this book titled Machine Learning: A constraint-based approach by Professor Marco Gori.\nIt is 2 AM, I\u0026rsquo;m on chapter one, and the current topic is why Euclidean distance is not a good metric in higher dimensions. So we\u0026rsquo;re working in the n-dimensional set \\( \\mathbb{X} \\) and the author defines the set of neighbours of a point \\(x_{0}\\) as : $$ \\mathcal{N}_R (x_{0}) = \\{ x \\in \\mathbb{X}\\,\\, |\\,\\, ||x-x_{0}|| \u0026lt; R\\}$$ where \\(R\\) is the degree of neighbourhood of \\(x_{0}\\) (i.e., the radius). We call this the orange. He then brings up the formula for the volume of an n-ball (which I\u0026rsquo;ve never seen before) : where \\(n\\) is the number of dimensions, \\(R\\) is the radius of the ball, and \\(\\Gamma\\) is the Gamma function. Trusting the author without verifying the veracity of the formula (as I\u0026rsquo;ve always done), I move on to the definiton of the peel of this orange. We define \\(\\epsilon \u0026gt; 0\\) as the thickness of the peel, which we denote as \\(\\mathcal{P}_{\\epsilon}\\). The radius of the pulp, therefore, reduces to \\(R-\\epsilon\\). The volume of the peel is then obtained by subtracting the volume of the pulp from the volume of the orange. $$ \\begin{align} vol(\\mathcal{P}_{\\epsilon}) \u0026amp;= vol(\\mathcal{N}_R) - vol(\\mathcal{N}_{R-\\epsilon})\\\\\\\\\n\u0026amp;= vol(\\mathcal{N}_R) \\left(1 - \\frac{vol(\\mathcal{N}_{R-\\epsilon})}{vol(\\mathcal{N}_R)}\\right)\\\\\\\\\n\u0026amp;= vol(\\mathcal{N}_R) \\left(1 - \\left(\\frac{R-\\epsilon}{R}\\right)^{n}\\right) \\end{align} $$ Now we let the dimensions increase. Formally, we let \\(n \\to \\infty\\). $$ \\begin{align} vol(\\mathcal{P}_{\\epsilon}) \u0026amp;= vol(\\mathcal{N}_R) \\left(1 - \\lim \\limits_{n \\to \\infty} \\left(\\frac{R-\\epsilon}{R}\\right)^{n}\\right) \\end{align} $$ Since \\(R-\\epsilon \u0026lt; R\\), we have \\(\\frac{R-\\epsilon}{R}\u0026lt;1\\) which implies \\( \\lim \\limits_{n \\to \\infty} \\left(\\frac{R-\\epsilon}{R}\\right)^{n}\\ = 0\\). Thus, we get $$ vol(\\mathcal{P}_{\\epsilon}) = vol(\\mathcal{N}_R) $$ and the orange becomes its peel. This is it. This blows my mind. I naively declare this as the pinnacle of mathematical beauty that has ever been unleashed to me, and go to bed, thinking about all the jokes I could make with this.\nDid I even bother to check the proof of the formula for the volume of the n-ball? No. I merely verified that it holds for 1, 2 and 3 dimensions. But what if there is some catch in higher dimensions, I wonder as I lie down on my bed. I then lazily conclude that the author must have checked the proof before writing the formula in his book.\nWere we discussing about how Euclidean metrics fail in higher dimensions? No. We were discussing about a greedy orange-loving alien who has invented a dimension-changinator and would be wanting to increase the number of dimensions of his orange, and how he would be disappointed to get only the peel if he increases the number of dimensions to very large values.\n","date":1575288511,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575288511,"objectID":"bb000e4a852e01b2470e31e710ee2e34","permalink":"https://dryairship.github.io/post/learning-machine-learning-story-n/","publishdate":"2019-12-02T17:38:31+05:30","relpermalink":"/post/learning-machine-learning-story-n/","section":"post","summary":"The Orange Without The Pulp","tags":["machine-learning","ml-stories","story"],"title":"Learning Machine Learning : Story #N","type":"post"},{"authors":null,"categories":null,"content":"","date":1572731936,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572731936,"objectID":"37ef3cce3461d56a23531c8af7e3c3ae","permalink":"https://dryairship.github.io/project/centralized-inventory-and-purchasing/","publishdate":"2019-11-03T03:28:56+05:30","relpermalink":"/project/centralized-inventory-and-purchasing/","section":"project","summary":"Developed a web app for efficient inventory management across various departments of the NGO Vitraag Vigyaan","tags":["development","nodejs","javascript","reactjs","express","inventory management"],"title":"Centralized Inventory and Purchasing","type":"project"},{"authors":["Priydarshi Singh"],"categories":[],"content":"The title is a clickbait Not exactly, hehe.\n✔️ It was my first flight.\n✔️ The flight stalled.\n✔️ I was scared.\n❌ I thought I was going to die.\nThe stall was a planned one, you see.\nAerospace is the coooooolest department In the 3rd semester, AE students have the course AE201 - Introduction to Aerospace Engineering. This course is aimed at introducing us to the basic principles of flight.\nAs a part of the course, we had visits to the various labs of the department (wind tunnel, flight laboratory, etc) and a demo flight in our Cessna Skylane. The flight was supposed to be a demonstration of the various maneuvers that a pilot can perform to control the six degrees of freedom of an aircraft.\nPhysics of stall An aircraft can stall in two ways :\n The angle of attack increases beyond the critical angle of attack. So you have an aircraft in a steady-level flight, and you increase the angle between the wings and the incoming wind (eg: by pointing the aircraft upwards). You get more lift. You like it, so you increase the angle further. You get even more lift. You think this is good business, so you keep increasing the angle until you reach the angle where your lift suddenly starts decreasing. This is the critical angle of attack.  The speed of the aircraft falls below the stall speed. At a given altitude, there is a minimum speed (stall speed) that the aircraft must have in order to generate enough lift to maintain that altitude. If the speed of the aircraft drops below the stall speed, the aircraft starts, well, falling down.  In our case, the pilot probably paused or slowed down the engine so that the speed of the aircraft dropped below the stall speed. Of course, the pilot was able to regain control over the aircraft and the fall was immediately followed by a pull-up maneuver so we could feel the extra G-force. The pilot then performed various other maneuvers.\nIITK from above It was fun surveying the campus from the Skylane. I made a video of the entire ride. In the snapshot below you can see Halls 13,12,11,10,9\u0026hellip;, Hockey and Football ground, OAT, Swimming Pool, Pronite ground, RA/SBRA buildings, GHT, Main stadium, etc. Apologies for the blurry image.\n","date":1568931284,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1568931284,"objectID":"a9a0da913facb900d16bc2f26ab65288","permalink":"https://dryairship.github.io/post/my-first-flight-stalled/","publishdate":"2019-09-20T03:44:44+05:30","relpermalink":"/post/my-first-flight-stalled/","section":"post","summary":"**stall****/stɔːl/**verb_(of an aircraft)_ stop flying and begin to fall because the speed is too low or the angle of attack too large to maintain adequate lift.","tags":["iitk","aerospace"],"title":"My First Flight Stalled","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"Hey there! In my previous post I wrote about my Google FooBar experience. I recommend you to read that post before you continue with this one.\nThis post will explain how I managed to extract hidden test cases from Google FooBar. Note that I had reported the bug through the feedback command via the FooBar terminal. Although I did not receive any response from Google for that report, this flaw has now been fixed.\nA mild confusion I discovered an important fact about FooBar\u0026rsquo;s test case evaluations when I was solving the 2ndproblem of the 2ndlevel. Upon finally completing the code for the solution, I used the verify command to check it. To my dismay, only the first test case passed. I went through my solution again to find any logical errors, but couldn\u0026rsquo;t find any. In my opinion, the program should have worked.\nI had already discovered that the first two test cases on which my solution was evaluated were the same as the ones given in the examples. And I had verified that my solution worked for the two example cases before I submitted the code. That was weird. At least the first two cases should have passed! Nevertheless, I decided to test the program on the example cases once again.\nBlueJ \u0026lt;3 I think that fact that I used BlueJ (it\u0026rsquo;s an awesome Java IDE, BTW) was instrumental in helping me unravel the mystery. BlueJ has the option of calling static functions of a class through a popup menu obtained by right clicking the name of the class. This opens a dialog box that asks for the parameters to be passed to the function. When the function completes its execution, another dialog box pops up which contains the return value of the function. The same mild confusion, now 17% extra for free So I recompiled the same program (not a very sane idea, I know, but wait) and called the answer function directly from BlueJ\u0026rsquo;s fantastic UI, with the input being the first example test case (yes, the one that was already giving me the correct answer on FooBar\u0026rsquo;s evaluation - not a very sane idea again, but wait).\n I tell you, in this world, being a little crazy helps to keep you sane. - Zsa Zsa Gabor\n I got 1 as the output, which was the correct answer. Then, I again called the answer function with the input being the second example test case. (Note: No recompiling. I just closed the output window of the first example, and called the function again.)\nBoom! This time, I got 7 as the output. The correct answer was supposed to be 6. That was funny. I remember I got 6 as the output the last time I passed the same parameters to the same code. Just to confirm it, I recompiled the code, called the function with the second example case, and found the output to be 6.\nPuzzle solved! At this moment, I knew that my code was correct. It was Java that was acting weirdly, or so I tended to believe. I was almost ready to post this as a question on StackOverflow, when I decided to look at my code again.\nAnd here comes the big moment. I realized that the value that the answer function was supposed to return, was stored in a static variable. (Don\u0026rsquo;t judge me. I have now learnt that it is a bad practice.) Thus, the variable was conserved across multiple calls of the answer function on the same instance of the Java Virtual Machine. And I had never explicitly set the variable to 0. I just kept on increasing the value of the variable (in another static function - which did the calculations), and returned it when the calculations were over. Thus, when I called the function the second time, the variable still contained its previous value. Hence, I got 7 = 1+6 as my answer for the second test case.\nRecompiling a program in BlueJ resets the Java Virtual Machine. Hence, the static variables are restored to their initial values. This is why I got the correct answer when I ran the program after recompiling it.\nOf course, I solved the issue by simply putting a statement to reset the variable to 0 before performing the calculations. With this modification, my program passed all the test cases.\nThe important fact that I learnt here is that Google was calling the answer function on the same instance of JVM for all the test cases.\nLost in a maze For the 2ndproblem of level 3, I had to find the length of the shortest path from the bottom-right corner to the top-left corner of a boolean matrix. false represented a block where we could move, and true represented a piece of wall. Also, I was allowed to remove at most one wall from the maze.\nI didn\u0026rsquo;t know about BFS/DFS back then. (I didn\u0026rsquo;t know about any standard algorithms, in fact. :'( ) As a result, I coded up a very dirty solution (must\u0026rsquo;ve been DFS, only I didn\u0026rsquo;t know it was called so). And it worked. Well, almost! It passed 4/5 test cases. I tried hard to find a bug or an edge case that I hadn\u0026rsquo;t considered, but I couldn\u0026rsquo;t. So I decided to find an altogether different approach to solve the problem. While thinking of a better solution to the problem, an evil idea struck me.\nI want to hack NASA Googlewith HTML Binary Code The fact that the JVM was the same across evaluations implied that I could share data among different runs of the program. So I did two things :\n Create a static variable named testCase that is incremented every time the answer function is called. This will contain the serial number of the test case that is being currently evaluated. Store the data of the current test case into other static variables. This could be :  a single variable - in which case the data of one test case will be available only to the next test case, or an array - in which case the data of one test case will be available to all subsequent test cases.    Okay, so now I have the data of the previous test case stored in a static variable.\n If you want to succeed, double your failure rate. - Thomas Watson\n Idea Convert the data of the previous test case into binary form. If the number at the ith position is 1, run the program as it is supposed to. If it is 0, return a garbage value so that the current test case fails.\nImplementation I stored the matrix of the 4thtest case in a static variable. When inside the 5thtest case evaluation, I used the above mentioned idea to return the correct/incorrect output.\nI first converted the length of the matrix to a binary string and checked for the character at index i (I had to manually increment the value of i after every submission). If this bit was 0, I returned -1, otherwise I let the program run as it was supposed to. On observing the results, if only the 4thtest case failed, the inference drawn was that the bit at ith index was 1. If both the 4thand the 5thtest cases failed, the inference drawn was that the bit at ith index was 0. When the index grew bigger than the length of the binary string, a Runtime Error was thrown instead of a Wrong Answer. This way, I found the binary representation of the length of the matrix.\nI repeated the process for the breadth, and then for the entire matrix (except, I didn\u0026rsquo;t\u0026hellip;).\nA far more unheroic, but faster way I had found out almost half the matrix when I realized that instead of obtaining the entire matrix, I could just guess the answer. Since I had to find the length of shortest path, the answer would satisfy:\nSo for all the test cases, I would let the program run normally, while for the 4thtest case, I would return a custom value. I started with length+breadth-1, and kept incrementing it until the 4thtest case passed too. (Okay fine, a very despicable way to pass a test case, indeed. This is probably why I didn\u0026rsquo;t whine when I didn\u0026rsquo;t hear from Google - I hadn\u0026rsquo;t completely solved this problem.)\nConclusion The binary conversion method, although a long procedure, could be successfully used to extract hidden test cases from Google FooBar - much more easily for problems which have a few int values as the input. However, it requires that at least one test case succeeding the failing test case, must pass.\nAlthough finding hidden test cases isn\u0026rsquo;t that much of a benefit (as it\u0026rsquo;ll only help if the program fails for some edge cases), they are \u0026ldquo;hidden\u0026rdquo; for a reason, and it would be better if they remain so! I\u0026rsquo;m glad that Google has now fixed the issue.\n","date":1556953223,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1556953223,"objectID":"2967603faf8987e1252106b74843e9ce","permalink":"https://dryairship.github.io/post/how-i-extracted-hidden-test-cases-in-google-foobar/","publishdate":"2019-05-04T12:30:23+05:30","relpermalink":"/post/how-i-extracted-hidden-test-cases-in-google-foobar/","section":"post","summary":"Description of a now patched flaw that allowed extraction of hidden test cases in Google FooBar","tags":["google","foobar","hacking","java"],"title":"How I Extracted Hidden Test Cases In Google FooBar","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"Hey all! This blog post is about Google FooBar, how I got invited to it, the problems, and what happened at the end.\nInvitation Legend has it that Google FooBar is Google’s \u0026ldquo;secret hiring challenge\u0026rdquo;. You can take part in it only if you have an invitation and you if you perform well enough you may be hired! I am aware of two ways one can get an invitation :\n Google Search - Apparently, making enough programming related searches on Google can get you an invitation (as was the case with me). I have no idea regarding the algorithm which decides if you have made enough searches. I have been searching for solutions to programming problems since 2012 (okay, those searches must have been quite silly), and it was only in January 2017 that I got the invitation. Referral - People who have completed some challenges on FooBar get a URL which they can share with their friends to invite them to participate. Again, I don\u0026rsquo;t know how many challenges one needs to solve to get the referral link. I got mine when FooBar resumed after being down for extended maintenance for about a year.  Interface After logging in, one is greeted with a linux-terminal like screen. help lists out the various commands that work in this terminal. A request creates a new directory which contains the problem statement and the solution templates. The solutions can be in either Java or python. One can only have a single active challenge at a time.\nAt the time I was invited for the challenge, Java was, sort-of, my mother tongue :p. So I submitted my solutions in Java. The Java template for each problem had a function like this, which we were supposed to complete :\npublic static int answer(\u0026lt;params\u0026gt;) { ... } Problems The problems were like regular CP problems. Most of them were solvable by using dynamic programming. However, at that time, I was a novice at CP and completely inexperienced at dynamic programming, and hence solving every problem was a matter of extreme pride and happiness for me.\nThe problems were divided into 5 levels :\n Level 1 had 1 problem. Level 2 had 2 problems. Level 3 had 3 problems. Level 4 again had 2 problems. Level 5 supposedly had only 1 problem.  I was able to sail through the first four levels easily (except problem 2 of level 3 - explained in this blog post), but I couldn\u0026rsquo;t complete the challenge as I failed to solve the only problem of the 5thlevel.\nI had 25 days to solve the last problem, and I spent the first 10 days without much worry - I was doltishly expecting this one to be of the same difficulty level as the previous ones, which were surprisingly quite simple. As it turned out, I was very wrong. I came up with a few different ways to solve the problem, but all my solutions were essentially brute-force (with a time complexity of O(2mn)) and were naturally taking a lot of time.\nWhen I lost all hopes of solving the problem on my own, I posted the question on StackOverflow, and even put a bounty on it! However, I failed to get an answer (the question has no accepted answer even today, because apparently the problem was a Cellular Automation problem, and my naive approach was very different from the expected solution).\nResults The status commands prints the progress of a user. For me, the output is like this : When I cleared the third level, Google gave me an option to use the recruitme command, which supposedly shared my progress with a Google recruiter. I decided to use it at the end of the challenge. Later, since I couldn\u0026rsquo;t solve the last problem, I didn\u0026rsquo;t really expect anyone from Google to contact me. Still, hoping for the best, I used the command, and entered the information it asked - like name, contact details, education etc.\nUnfortunately, I haven\u0026rsquo;t heard from any Google recruiter. Perhaps because I was still in school then - they asked this when I entered the details. Or maybe because I cheated on the 2ndproblem of the 3rdlevel (read this blog post for details). Or perhaps because I couldn\u0026rsquo;t solve the last problem. Or maybe because Google stopped hiring through FooBar.\nWhatever the reason may be, I wasn\u0026rsquo;t really disappointed. Solving those problems gave me immense confidence and the inspiration to perform better at the next opportunity I get. And of course, the invitation for Google FooBar is in itself a procurement to cherish!\n","date":1556904648,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1556904648,"objectID":"104dffd5b245823d02291e8a15aab398","permalink":"https://dryairship.github.io/post/my-google-foobar-experience/","publishdate":"2019-05-03T23:00:48+05:30","relpermalink":"/post/my-google-foobar-experience/","section":"post","summary":"About Google FooBar, the invitation, the problems and the results.","tags":["google","foobar","competitive-programming"],"title":"My Google FooBar Experience","type":"post"},{"authors":["Priydarshi Singh"],"categories":[],"content":"Hey there, everyone! I am Priydarshi and this is my blog. Here I would be posting primarily programming related stuff, in addition to my experiences at IITK and in general life.\nWhat was the motivation for me to start this blog?\n Almost all of the cool seniors I know have their own blogs. I believe I have stories to tell, and knowledge to share. I wanted to tick off another item from my bucket list.  The final examinations for the second semester ended yesterday and so now I finally have the time to try my hand at maintaining a blog.\nCurrently this blog is hosted on GitHub Pages (though I might later shift it to a personal domain). I am using the Academic theme and the Hugo framework for maintaining this blog.\nAlthough Hugo claims to be user-friendly, my experience with setting up this blog wasn\u0026rsquo;t as smooth as I expected it to be. So I find apt to be easiest way to install any package. But apparently, sudo apt install hugo installs an older version of Hugo, and on trying to build this site with that version, I ended up with an error message telling me that the Academic theme isn\u0026rsquo;t compatible with my current Hugo version.\nCurrent theme does not support Hugo version 0.40.1. Minimum version required is 0.54 So I purged the apt version. What, then, is the next easiest way to install a package? snap! So I did sudo snap install hugo. Trying to build the site with this gave me another scary error message :\nfailed to transform resource: TOCSS: failed to transform \u0026quot;scss/main.scss\u0026quot; (text/x-scss): this feature is not available in your current Hugo version, see https://goo.gl/YMrWcn for more information. For some unknown reason, I chose to ignore the link in the error message and decided to Google the error. I found the same error on StackOverflow (The real happiness? +_+) and the accepted answer recommended me to install the tarball version of Hugo. So I did that, but ended up with the same error message. (What can be more sad than an accepted SO answer not helping you out? ;_; )\nFinally I decided to follow the link in the error message, and found a very easy solution to this error - apparently I had installed the normal version, whereas I needed the extended version. (*facepalm*)\nLesson learnt : An error message doesn\u0026rsquo;t always come with a link to its solution. So when it does, follow the link blindly.\nThat was my first blog post. Hope you stick around to read my future posts!\n","date":1556301797,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1556301797,"objectID":"1e4c033fc3962373c86c99bf825517d5","permalink":"https://dryairship.github.io/post/meow-world/","publishdate":"2019-04-26T23:33:17+05:30","relpermalink":"/post/meow-world/","section":"post","summary":"My first attempt at writing a blog post.","tags":["hugo"],"title":"Meow, World!","type":"post"},{"authors":null,"categories":null,"content":"","date":1555250530,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1555250530,"objectID":"345dfa4a5e2445eb85f77d5ac3cf180a","permalink":"https://dryairship.github.io/project/online-election-manager/","publishdate":"2019-04-14T19:32:10+05:30","relpermalink":"/project/online-election-manager/","section":"project","summary":"A cryptographically secure web portal to manage online elections.","tags":["cryptography","golang","development","security"],"title":"Online Election Manager","type":"project"}]